:root {
  --highlight-color: rgb(145, 183, 216);
  --header-color: rgb(236, 236, 236);
  --panel-color: white;
  --card-border: #e0e0e0;
  --card-text: rgb(36, 36, 36);
  --inverse-card-text: white;
  --autoplay: rgb(83, 164, 81);
  --player: rgb(45, 45, 45);
  --holding-tank-item: rgb(203, 209, 213);
  --context-menu-list: white;
  --input-background: white;
  --input-border: #ced4da;
  --input-text: rgb(36, 36, 36);
}

/* Light mode playlist styling */
.holding-tank-playlist-mode {
  background-color: #e8f5e8 !important;
  border-left-color: #28a745 !important;
}

@media (prefers-color-scheme: dark) {
  :root {
    --highlight-color: rgb(79, 80, 81);
    --header-color: rgb(45, 45, 45);
    --panel-color: rgb(30, 30, 30);
    --card-border: #505050;
    --card-text: rgb(226, 226, 226);
    --inverse-card-text: black;
    --autoplay: rgb(83, 164, 81);
    --holding-tank-item: rgb(50, 50, 50);
    --context-menu-list: rgb(30, 30, 30);
    --input-background: rgb(45, 45, 45);
    --input-border: #505050;
    --input-text: rgb(226, 226, 226);
  }
}

/* Dark mode specific form styling */
@media (prefers-color-scheme: dark) {
  input[type="text"],
  input[type="search"],
  select,
  textarea {
    background-color: var(--input-background) !important;
    color: var(--input-text) !important;
    border-color: var(--input-border) !important;
  }

  /* Ensure placeholders are readable on dark backgrounds */
  input[type="text"]::placeholder,
  input[type="search"]::placeholder,
  textarea::placeholder,
  .form-control::placeholder {
    color: rgba(226, 226, 226, 0.6) !important; /* based on --input-text */
  }
  /* WebKit prefix for wider Chromium coverage */
  input[type="text"]::-webkit-input-placeholder,
  input[type="search"]::-webkit-input-placeholder,
  textarea::-webkit-input-placeholder,
  .form-control::-webkit-input-placeholder {
    color: rgba(226, 226, 226, 0.6) !important;
  }

  input[type="text"]:focus,
  input[type="search"]:focus,
  select:focus,
  textarea:focus {
    background-color: var(--input-background) !important;
    color: var(--input-text) !important;
    border-color: #007bff !important;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25) !important;
  }

  .form-control {
    background-color: var(--input-background) !important;
    color: var(--input-text) !important;
    border-color: var(--input-border) !important;
  }

  .form-control:focus {
    background-color: var(--input-background) !important;
    color: var(--input-text) !important;
    border-color: #007bff !important;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25) !important;
  }

  /* Table styling for dark mode */
  table {
    background-color: var(--panel-color) !important;
    color: var(--card-text) !important;
  }

  table td {
    background-color: var(--panel-color) !important;
    color: var(--card-text) !important;
    border-color: var(--card-border) !important;
  }

  table th {
    background-color: var(--header-color) !important;
    color: var(--card-text) !important;
    border-color: var(--card-border) !important;
  }

  /* Header button styling for dark mode */
  .header-button {
    background: var(--header-color) !important;
    color: var(--card-text) !important;
    border-color: var(--card-border) !important;
  }

  /* Playlist mode styling for dark mode */
  .holding-tank-playlist-mode {
    background-color: #1a3d1a !important;
    border-left-color: #28a745 !important;
  }

  /* Scrollbar styling for dark mode */
  ::-webkit-scrollbar {
    width: 12px;
  }

  ::-webkit-scrollbar-track {
    background: var(--panel-color);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--card-border);
    border-radius: 6px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--highlight-color);
  }
}

th {
  background-color: var(--header-color);
  color: var(--card-text);
  border: 0 !important;
}

h6,
h6 a,
.modal-title,
.close {
  color: var(--card-text);
}

.modal-body {
  background-color: var(--panel-color) !important;
  color: var(--card-text);
}

.modal-footer {
  background-color: var(--header-color);
}

#selected_row {
  color: white !important;
  background: linear-gradient(135deg, #007bff 0%, #0056b3 100%) !important;
  box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3) !important;
}

/* Override table cell color for selected rows */
table td#selected_row {
  color: white !important;
}

/* Also handle cases where selected_row might be on a tr */
tr#selected_row td {
  color: white !important;
}

#player {
  background-color: var(--header-color);
}

#now_playing_bar div {
  color: var(--card-text);
}

.progress {
  background-color: #a9a9a9;
}

input[type="range"]::-webkit-slider-runnable-track {
  background: #a9a9a9;
}

.card {
  color: var(--card-text);
  border: 1px solid var(--card-border);
  background-color: var(--panel-color);
}

.card-header,
.modal-header {
  background-color: var(--header-color);
  border-bottom: 0;
}

.icon-bar a:hover,
h6 a:hover {
  color: gray;
}

table td {
  color: var(--card-text);
  border-top: 1px dotted var(--card-border) !important;
}

.nav-link {
  color: var(--card-text) !important;
  border: 0 !important;
  border-bottom: 1px solid var(--card-border) !important;
}

.nav-link.active {
  border: 1px solid var(--card-border) !important;
  border-bottom: 0 !important;
  background-color: var(--panel-color) !important;
}

.nav-item {
  background-color: var(--panel-color);
}

.dropzone {
  border-bottom: 1px dotted black !important;
}

.context-menu-list {
  background: var(--context-menu-list);
  background-color: var(--context-menu-list);
}

.context-menu-item {
  background: var(--context-menu-list);
  background-color: var(--context-menu-list);
  color: var(--card-text);
}

/* New native context menu styling to match app theme */
.mxv-context-menu {
  background-color: var(--panel-color);
  color: var(--card-text);
  border: 1px solid var(--card-border);
  border-radius: 0.25rem;
  box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.15);
  padding: 0.25rem 0;
}

.mxv-context-item {
  display: block;
  width: 100%;
  text-align: left;
  padding: 0.375rem 0.75rem;
  background: transparent;
  border: none;
  color: var(--card-text);
  cursor: pointer;
}

.mxv-context-item:hover,
.mxv-context-item:focus {
  background-color: var(--header-color);
}

.holding_tank li {
  border: 1px solid var(--holding-tank-item);
  background-color: var(--holding-tank-item);
  color: var(--card-text);
}

.hotkeys li {
  background-color: var(--panel-color);
  border-bottom: 1px dotted var(--card-border) !important;
}

.drop_target {
  color: white;
  background-color: var(--highlight-color) !important;
}

.now_playing {
  color: green;
}

.autoplaying {
  background-color: var(--panel-color);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%23237536' fill-opacity='0.4' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E");
}

.badge {
  background-color: var(--card-text);
  color: var(--inverse-card-text);
}

/* Styling for prompt boxes */

body {
  line-height: 1.5em;
  color: var(--card-text);
  background-color: var(--panel-color);
}

#container {
  align-items: center;
  justify-content: center;
  display: flex;
  height: 100%;
  overflow: auto;
}

#form {
  width: 100%;
}

#form input {
  background-color: var(--header-color);
  color: var(--card-text);
}

#label {
  font-size: 13px;
  max-width: 100%;
  max-height: 100%;
  margin-bottom: 0.8em;
  padding: 0 0.5em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

#data {
  border-radius: 2px;
  background: white;
  color: black;
  width: 90%;
  padding: 0.4em 0.5em;
  border: 1px solid black;
  min-height: 2em;
  margin: 0 0 1.2em;
}

select#data {
  height: 2em;
}

#data-container {
  text-align: center;
}

#buttons {
  text-align: right;
  padding: 0 0.5em 0 0;
}

#buttons > button,
#buttons > input[type="submit"] {
  border-radius: 3px;
  border: 0;
  margin: 0 0 0 0.5em;
  font-size: 0.8em;
  line-height: 1em;
  padding: 0.6em 1em;
}

#ok {
  background-color: #28a745;
  color: white;
}

#cancel {
  background-color: #6c757d;
  color: white;
}
